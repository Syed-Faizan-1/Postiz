<% include ./partials/header.ejs %>
    <div class="w-full min-h-screen">
        <div class="cards flex flex-wrap gap-10 px-10 py-10">
            <% posts.forEach(post=> { %>
                <div class="card px-3 py-3 border-2 rounded-lg border-zinc-500">
                    <div class="about w-52 h-40 bg-white rounded-lg overflow-hidden">
                        <img class="w-full h-full object-cover" src="/images/uploads/<%= post.postImage%>" alt="">
                    </div>
                    <h2 class="text-xl font-semibold mt-3">By <i class="ri-at-line"></i>
                        <%= post.user.username %>
                    </h2>
                    <h3 class="inline-block text-xl font-semibold mt-3">
                        <%= post.title %>
                    </h3>
                    <p class="text-sm font-medium opacity-60">
                        <%= post.description %>
                    </p>
                    <div class="flex justify-between">
                        <p>
                            <%= post.likes.length %> <%= post.likes.length === 1 ? 'Like' : 'Likes' %>
                        </p>                        
                        <a href="likepost/<%= post._id %>" class="<%= post.likes.includes(user._id) ? 'ri-heart-fill text-red-500' : 'ri-heart-line' %> text-xl hover:text-gray-600"></a>
                    </div>
                </div>
                <%}); %>

        </div>
    </div>
    <% include ./partials/footer.ejs %>